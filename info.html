<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1000, user-scalable=yes">
    <title>Punk Archives</title>
    <style>
        /* Global Styles */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #000000;
            color: #ffffff;
        }

        /* Main flex container */
        .main-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-left: 150px; /* Matches sidebar width */
            padding-right: 150px; /* Matches sidebar width */
            padding: 20px;
        }

        /* Left Sidebar */
        .sidebar {
            width: 150px;
            background-color: #121212;
            color: #fff;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            padding: 20px 5px;
            box-sizing: border-box;
            border-right: 2px solid #660000;
        }

        .sidebar h1 {
            font-family: 'MyCustomFont2', sans-serif;
            color: #660000;
            font-size: 20px;
            text-transform: uppercase;
            margin-bottom: 20px;
            text-align: right;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li {
            margin: 15px 0;
        }

        .sidebar ul li a {
            color: #ffffff;
            text-decoration: none;
            font-size: 20px;
            display: block;
            text-align: right;
            padding: 5px;
            transition: background-color 0.2s ease-in-out;
        }

        .sidebar ul li a:hover {
            background-color: #660000;
        }

        /* Right Sidebar */
        .sidebar2 {
            width: 150px;
            background-color: #121212;
            color: #fff;
            height: 100vh;
            position: fixed;
            right: 0;
            top: 0;
            padding: 20px 5px;
            box-sizing: border-box;
            border-left: 2px solid #660000;
        }

        .sidebar2 h1 {
            font-family: 'MyCustomFont2', sans-serif;
            color: #660000;
            font-size: 20px;
            text-transform: uppercase;
            margin-bottom: 20px;
            text-align: left;
        }

        .sidebar2 ul {
            list-style: none;
            padding: 0;
        }

        .sidebar2 ul li {
            margin: 15px 0;
        }

        .sidebar2 ul li a {
            color: #ffffff;
            text-decoration: none;
            font-size: 20px;
            display: block;
            text-align: left;
            padding: 5px;
            transition: background-color 0.2s ease-in-out;
        }

        .sidebar2 ul li a:hover {
            background-color: #660000;
        }

        /* Main Content */
        .content {
            width: 100%;
            max-width: 70%;
            padding: 20px;
        }

        /* Headings */
        .content h1 {
            font-family: 'MyCustomFont2', sans-serif;
            color: #660000;
            font-size: 22px;
            text-transform: uppercase;
            border-bottom: 3px solid #660000;
            padding-bottom: 10px;
        }

        .content h2 {
            font-size: 20px;
            border-bottom: 2px solid #ffffff;
            padding-bottom: 10px;
            color: #660000;
        }

        /* News Items */
        .news-item h3 {
            font-size: 18px;
            color: #660000;
            margin: 10px 0;
        }

        .news-item p {
            line-height: 1.6;
            font-size: 16px;
        }

        /* Custom Fonts */
        @font-face {
            font-family: 'MyCustomFont';
            src: url('Modest.woff') format('woff');
        }
        @font-face {
            font-family: 'MyCustomFont2';
            src: url('Crass.ttf') format('truetype');
        }

        /* Latest Additions Box */
        .latest-additions {
            background-color: #121212;
            border: 2px solid #660000;
            width: 125px;
            color: #ffffff;
        }

        .latest-additions h2 {
            font-size: 18px;
            color: #660000;
        }

        .latest-additions ul {
            list-style: none;
            padding: 0;
            font-size: 14px;
        }

        .latest-additions ul li {
        }
    </style>
</head>
<body>

    <!-- Left Sidebar -->
    <div class="sidebar">
        <h1>Punk Archives</h1>
        <ul>
            <li><a href="index.html#"><font face="MyCustomFont">Home</a></li>
            <li><a href="bands.html#">All Bands</a></li>
            <li><a href="info.html#">Add Info</a></li>
            <li><a href="https://discordapp.com/users/767006494595350578">Contact</a></li>
        <ul>
            <li><a id="randomBandButton">Random Band</font></a></li>
        </ul>
        </ul>
    </div>

<!-- Right Sidebar -->
<div class="sidebar2">
    <div class="search-container">
        <input type="text" id="searchBar" placeholder="Search..." oninput="searchBands()">
        <ul id="searchResults" style="list-style: none; padding: 0; display: none; background: #121212; border: 1px solid #660000; position: absolute; width: 140px; max-height: 200px; overflow-y: auto;"></ul>
    </div><br>
        <center><div class="latest-additions">
            <h2>Latest Additions</h2>
            <ul>
                <a href="band.html?band=The%20Great%20Redneck%20Hope"><u><font color="#ffffff">The Great Redneck Hope</font></u></a><br><br>
                <a href="band.html?band=Black%20Flag"><u><font color="#ffffff">Black Flag</font></u></a><br><br>
                <a href="band.html?band=Insect%20Warfare"><u><font color="#ffffff">Insect Warfare</font></u></a><br><br>
            </ul>
        </div></center>
<br>
        <center><div class="latest-additions">
            <h2>Latest Updates</h2>
            <ul>
            </ul>
        </div></center>
</div>

<script>
const DEBUG = true; // Set to true for debugging

function searchBands() {
    const query = document.getElementById("searchBar").value.toLowerCase();
    const resultsList = document.getElementById("searchResults");

    if (query.length === 0) {
        resultsList.style.display = "none";
        return;
    }

    fetch("banddata.json")
        .then(response => response.json())
        .then(bands => {
            resultsList.innerHTML = "";
            let matches = [];

            bands.forEach(band => {
                let matchText = "";
                let priority = Infinity; // Lower is better

                function updatePriority(field, text) {
                    if (typeof field === "string") {
                        let pos = field.toLowerCase().indexOf(query);
                        if (pos !== -1 && pos < priority) {
                            priority = pos;
                            matchText = text;
                        }
                    }
                }

                updatePriority(band.band_name, `Band Name: ${band.band_name}`);
                updatePriority(band.location, `Location: ${band.location}`);

                if (Array.isArray(band.genre)) {
                    for (let g of band.genre) {
                        updatePriority(g, `Genre: ${band.genre.join(", ")}`);
                    }
                }

                if (Array.isArray(band.releases)) {
    for (let release of band.releases) {
        if (release.title) updatePriority(release.title, `Release: ${release.title}`);
        if (release.label) updatePriority(release.label, `Label: ${release.label}`);
    }
}

                if (priority !== Infinity) {
                    matches.push({ band, matchText, priority });
                }
            });

            // **Sort by priority (lower index appears first)**
            matches.sort((a, b) => a.priority - b.priority);

            if (matches.length === 0) {
                resultsList.innerHTML = "<li style='color: #888; padding: 5px;'>No results</li>";
            } else {
                matches.forEach(({ band, matchText }) => {
                    let li = document.createElement("li");
                    li.style.padding = "5px";
                    li.style.cursor = "pointer";
                    li.style.color = "#ffffff";

                    li.innerHTML = `<strong>Band:</strong> ${band.band_name}`;
                    if (matchText) {
                        li.innerHTML += `<br><span style="color: #888; font-size: 14px;">${matchText}</span>`;
                    }

                    li.onclick = function() {
                        window.location.href = `band.html?band=${encodeURIComponent(band.band_name)}`;
                    };

                    resultsList.appendChild(li);
                });
            }

            resultsList.style.display = "block";
        })
        .catch(error => console.error("Error loading band data:", error));
}
</script>


<!-- Main Container -->
    <div class="main-container">
        <div class="content">
            <h1>Submission FAQ:</h1>
<h2>"Is ___ Accepted?":</h2>
<p><font size="4" face="Verdana"><u>The band must have been musically punk at some point</u>. Yes, pop punk, folk punk, and even later waves of emo are included in this. Lesser known bands are preferred over everything else though.</font></p>
<h2>"What if I don't know everything?":</h2>
<p><font size="4" face="Verdana">No matter how little of info you have on a band, submit it anyways. You can submit as many forms as you want, and it won't inconvenience me.</font></p>


            <center><iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdOuLl9jYT6HH6FHLX444HS8nlUo7-3cKaQTIlMTDfbmWBlJA/viewform?embedded=true" width="640" height="1429" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe></center>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
<div class="content">
    </div>
</div>


<script>
document.getElementById("randomBandButton").addEventListener("click", function () {
    fetch("banddata.json")
        .then(response => response.json())
        .then(bands => {
            if (bands.length === 0) {
                alert("No bands available.");
                return;
            }
            const randomBand = bands[Math.floor(Math.random() * bands.length)];
            window.location.href = `band.html?band=${encodeURIComponent(randomBand.band_name)}`;
        })
        .catch(error => console.error("Error loading band data:", error));
});
</script>


</body>
</html>
